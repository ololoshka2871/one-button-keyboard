# Клавиатура с 1 кнопкой

HID-устройство, гененирующее указанное ранее нажатие кнопок при нажатии одной физической кнопки.

## HID

Начиная с Wndows 10 1809 приложениям запрещается записывать данные в HID-устройства, которые являются клавиатурами,
Поэтому установка комбинации клавиш не может быть сделана через запись `output_report`. Специально для этого сделано отдельное HID-устройство.
Записывать необходимую комбинацию необходимо в него.

## Запись комбинации
При помощи Python-скрипта [`setup-key.py`](scripts/README.md)

1. Узнать vid/pid устройства (default: 0x16c0:0x314f) 
2. Получить список путей системы устройства:
    ```shell
    python setup-key.py --list --vid <vid> --pid <pid>
    ```
3. Получим примерно такой вывод:
    ```
    List interfaces of 5824:12623
    \\?\HID#VID_16C0&PID_314F&MI_01#8&1f6c5a59&0&0000#{4d1e55b2-f16f-11cf-88cb-001111000030}
    \\?\HID#VID_16C0&PID_314F&MI_00#8&46ae369&0&0000#{4d1e55b2-f16f-11cf-88cb-001111000030}\KBD
    ```
    Нужна строка где `...MI_01...` используем её для следующей команды
4. Установка комбинации
    ```shell
    python setup-key.py --path "<path>"
    ```
5. Проверка 
    ```shell
    python setup-key.py --path "<path>" --read
    ```
    Должно вернуть такую-же комбинацию (сырые байты) что и при установке